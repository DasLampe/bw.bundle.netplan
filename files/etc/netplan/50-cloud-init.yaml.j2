# This file is generated from bundlewrap - DO NOT EDIT MANUALLY
# {{ path }}
network:
    version: 2
    ethernets:
        {% for interface_name, interface in config.items() %}
        {{ interface_name }}:
            addresses:
            {% for ip in interface.ip_addresses_prefix -%}
                - {{ ip }}
            {% endfor %}
            {% if interface.gateway is defined %}
            gateway4: {{ interface.gateway }}
            {% endif %}
            match:
                macaddress: {{ interface.mac }}
            nameservers:
                addresses:
                - 134.130.4.1
                - 134.130.5.1
                - 10.190.5.53
                search:
                - alania.rwth-aachen.de
            set-name: {{ interface_name }}
            {% if routes and interface_name in routes %}
            routes:
            {% for route in routes[interface_name] %}
                - to: {{ route.to }}
                {% if route.via %}
                  via: {{ route.via }}
                {% endif %}
                {% if route.src %}
                  from: {{ route.src }}
                {% endif %}
                  on-link: {{ 'true' if not route.via else 'false' }}
            {% endfor %}
            {% endif %}
        {% endfor %}